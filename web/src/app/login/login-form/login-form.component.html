<div class="login-form-wrap">
  <nz-card style="width: 100%" nzTitle="登录">
    <nz-card-tab>
      <nz-tabset nzSize="large" [(nzSelectedIndex)]="roleIndex">
        <nz-tab nzTitle="用户"></nz-tab>
        <nz-tab nzTitle="管理员"></nz-tab>
      </nz-tabset>
    </nz-card-tab>
    <form
      class="login-form"
      nz-form
      [formGroup]="loginForm"
      (ngSubmit)="login()"
    >
      <nz-form-item>
        <nz-form-control nzErrorTip="账号">
          <nz-input-group nzPrefixIcon="user" [nzSize]="'large'">
            <input
              type="text"
              formControlName="username"
              nz-input
              placeholder="用户名"
              [placeholder]="'账号'"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzErrorTip="密码">
          <nz-input-group nzPrefixIcon="lock" [nzSize]="'large'">
            <input
              type="password"
              autocomplete="on"
              formControlName="password"
              nz-input
              placeholder="密码"
              [placeholder]="'密码'"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <div class="login-form-margin" nz-row>
        <!-- <div nz-col [nzSpan]="12">
        <label formControlName="remember" nz-checkbox>
          <span>自动登录</span>
        </label>
      </div> -->
        <!-- <div nz-col [nzSpan]="12">
        <a class="login-form-forgot">忘记密码</a>
      </div> -->
      </div>
      <button
        class="login-form-button login-form-margin"
        nz-button
        nzSize="large"
        [nzType]="'primary'"
      >
        登 录
      </button>
      <div class="other-way">
        <button nzType="link" type="button" nz-button (click)="showModal()">
          注册用户
        </button>
      </div>
    </form>
  </nz-card>

  <nz-modal
    [(nzVisible)]="isVisible"
    nzTitle="注册"
    (nzOnCancel)="cancelRegister()"
    (nzOnOk)="register()"
  >
    <ng-container *nzModalContent>
      <form nz-form [formGroup]="registerForm" [nzAutoTips]="autoTips">
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="user" nzSize="large">
              <input
                type="text"
                formControlName="name"
                autocomplete="off"
                nz-input
                placeholder="昵称"
              />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="user" nzSize="large">
              <input
                type="text"
                formControlName="username"
                autocomplete="off"
                nz-input
                placeholder="用户名"
              />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="lock" nzSize="large">
              <input
                type="password"
                formControlName="password"
                nz-input
                autocomplete="off"
                placeholder="密码"
              />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>
      </form>
    </ng-container>
  </nz-modal>
</div>
