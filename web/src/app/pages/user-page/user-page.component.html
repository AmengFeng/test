<div class="container">
  <div class="bar">
    <div nz-flex nzAlign="center" nzGap="1rem" class="userInfo">
      <nz-avatar nzIcon="user" [nzSize]="64"></nz-avatar>
      <div>
        <div style="font-weight: normal" nz-flex nzGap="1rem">
          <span>
            {{ user?.name }}
          </span>
          <span>
            <span nz-icon nzType="environment"></span> {{ user?.location }}
          </span>
          <span>
            <span nz-icon nzType="bulb"></span> {{ user?.demands.length }}
          </span>
          <span>
            <span nz-icon nzType="camera"></span> {{ user?.videos.length }}
          </span>
        </div>
        <div>{{ user?.description }}</div>
      </div>
    </div>
  </div>
  <nz-card>
    <nz-card-tab>
      <nz-tabset nzSize="large" [(nzSelectedIndex)]="modeIndex">
        <nz-tab [nzTitle]="demandTpl"></nz-tab>
        <nz-tab [nzTitle]="videoTpl"></nz-tab>
      </nz-tabset>
    </nz-card-tab>
    @if (modeIndex === 0) {
    <div nz-flex nzWrap="wrap">
      @for (demand of user?.demands; track demand) {
      <app-demand-card
        style="flex: 0 1 50%; padding: 7px; box-sizing: border-box"
        [demand]="demand"
      ></app-demand-card>

      }@empty {
      <nz-empty nzNotFoundContent="暂无需求" style="margin: auto"></nz-empty>
      }
    </div>
    } @else {
    <div nz-flex nzWrap="wrap">
      @for (video of user?.videos; track video) {
      <app-video-card
        style="flex: 0 1 33.3%; padding: 7px; box-sizing: border-box"
        [video]="video"
      ></app-video-card>
      }@empty {
      <nz-empty nzNotFoundContent="暂无视频" style="margin: auto"></nz-empty>
      }
    </div>
    }
  </nz-card>
</div>
<ng-template #demandTpl>
  <span nz-icon nzType="bulb"></span>
  需求
</ng-template>

<ng-template #videoTpl>
  <span nz-icon nzType="camera"></span>
  视频
</ng-template>
